# 											数据库MYSQL 



## 	1.数据库的三大范式是什么

(1) 第一范式：列不可再分，确保**每列的原子性。**

(2) 第二范式：满足第一范式，**主键约束，属性完全依赖主键。即非主键列不存在对主键的部分依赖**。

(3) 第三范式：满足第第一范式和第二范式。且**消除传递依赖**。



![数据库---三大范式](C:\Users\吴文钦\Desktop\面试学习\数据库---三大范式.png)





------





## 2.数据库事务的四个特性

事务必须具备ACID四个属性：**即原子性(Atomicity)、一致性(Consistency)、隔离性( Isolation)、永久性(Durability)**

​		（1）原子性：它描述的是  **事务是一个完整的操作，各个操作都是不可再分的，也就是原子性，要么全都执行，要么都不执行**。

​		（2）一致性：**当事务完成时，数据必须处于一致状态**。这就比如说 A有100元，给了B 50元，那么A剩下50，B得到50，总的还是100。也就是说  **事务开始前数据库是什么状态，那么结束后就还是一样的状态**。

​		（3）隔离性：描述的是  事务必须是**独立**的，**不应以任何方式和其他事务有依赖或影响其他事务**。  就是**对数据进行修改的所有并发事务之间是彼此隔离的**。

​		（4）永久性：事务完成后，它对数据库的修改被永久保持着，不会被其他因素影响。





## 3.数据库的引擎有哪些? 

 	(1) MYISAM   （创建表时如果不指定type则默认为myisam，不支持事务。）

MYISAM 是默认类型，ISAM是 **Indexed Sequential Access Method** (有索引的顺序访问方法) 的缩写。它是存储记录和文件的标准方法。

​	不是事务安全的,而且也不支持外键，并发性能差。如果事物回滚将造成不完全回滚，不具有原子性。如果执行大量的SELECT，MyISAM是更好的选择。

不支持事务的表做start/commit操作没有任何效果，在执行commit前已经提交



​	(2) InnoDB

InnoDB这种类型是**事务安全**的。支持外键，数据执行大量的**INSERT或UPDATE**,出于性能方面的考虑，应该使用InnoDB表

行级锁，提供了具有提交、回滚、崩溃恢复能力的事务安全，支持自动增长列，支持外键，并发能力强。



​	(3) Memory

每个基于memory存储引擎的表实际对应一个磁盘文件

全表锁（和MYISAM一样)，存储在内容中，**速度快**，但会**占用和数据量成正比的内存空间**且**数据在mysql重启时会丢失**。默认**使用 Hash索引**。 **不适用于精确查找，主要用于内容变化不频繁的代码表**。



​	(4) ARCHIVE

适合**存储大量独立的、作为历史记录的数据**。区别于InnoDB和MyISAM这两种引擎，**ARCHIVE提供了压缩功能，拥有高效的插入速度**，但是这种引擎**不支持索引**，所以查询性能较差一些。

如果只有**INSERT和SELECT**操作，可以选择Archive，Archive支持**高并发的插入操作**，但是本身**不是事务安全**的。Archive非常适合**存储归档数据**，如**记录日志信息**可以使用Archive





## 4. InnoDB和MyISAM两个引擎之间的区别:

对于mysql来说，最具有代表性的表存储引擎就是**InnoDB和MyISAM**.两者之间最主要的区别就是是否进行：**是否进行外键的数据完整性检查。**

**InnoDB 存储引擎支持对外键约束的检查功能**，这些约束包括 **delete,update,cascade**。

innodb存储引擎的mysql表提供了事务，回滚以及系统崩溃修复能力和多版本迸发控制的事务的安全。
innodb支持自增长列（auto_increment）,自增长列的值不能为空，如果在使用的时候为空的话怎会进行自动存现有的值开始增值，如果有但是比现在的还大，则就保存这个值。
innodb存储引擎**支持外键（foreign key）** ,外键所在的表称为子表而所依赖的表称为父表。
innodb存储引擎最重要的是**支持事务**，以及事务相关联功能。
innodb存储引擎支持**mvcc的行级锁**。
innodb存储引擎索引使用的是**B+Tree**底层数据结构
优缺点：InnoDB的优势在于提供了**良好的事务处理、崩溃修复能力和并发控制**。缺点是**读写效率较差，占用的数据空间相对较大**。增加了数据库服务器的负担，进而影响数据库的性能。

 

MyISAM 这种存储引擎**不支持事务**，**不支持行级锁**，只支持并发插入的表锁，**主要用于高负载的select。**

如果在表中不需要外键，也想避免引用完整性的检查，则可以选择使用**MyISAM存储引擎。**对于那些**只有insert和select**的应用程序，选择**MyISAM**会获得更好的性能。但是如果使用MyISAM引擎时，如果有外键关联，那么需要再应用程序级的层面上处理这类关联，使得数据的完整性获得保证。




p.s:    show create table tablename  命令看表的类型。

​		临时改变默认表类型可以用：set table_type=InnoDB;

​		show engines; // 查看mysql所支持的存储引擎，以及从中得到mysql默认的存储引擎

------

































































































